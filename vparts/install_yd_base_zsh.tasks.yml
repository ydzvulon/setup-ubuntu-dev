#!/usr/local/bin/task --taskfile

# https://taskfile.dev

version: "3"

tasks:

  install-all:
    desc: "install preconfigured zsh and oh-my-zsh from github"
    cmds:
     - task: install-zsh-base
     - task: config-zsh

  install-zsh-base:
    desc: "install zsh and oh-my-zsh from github"
    cmds:
      - sudo apt update && sudo apt install -y zsh curl wget
      - git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
      - cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc
#       - sudo chsh -s /bin/zsh

  config-zsh:
    desc: "set bureau theme for zsh"
    cmds:
      - sed -i 's/.*ZSH_THEME=.*/ZSH_THEME="bureau"/' ~/.zshrc
      - sed -i 's/.*DISABLE_UPDATE_PROMPT=.*/DISABLE_UPDATE_PROMPT=true/' ~/.zshrc
      - sed -i 's/.*DISABLE_AUTO_UPDATE=.*/DISABLE_AUTO_UPDATE=true/' ~/.zshrc
      
